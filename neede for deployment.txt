Deployment readiness checklist for Hostinger VPS (MySQL)

Scope
- Laravel 10 app in rateel/ (main webroot: rateel/public).
- PHP >= 8.1, Composer, Node (for Mix 6), Passport, optional Reverb/Pusher.

Missing or required items
- Create production .env (none is present).
- Generate APP_KEY (php artisan key:generate).
- Install Passport keys/clients (php artisan passport:install) or provide PASSPORT_* envs.
- Configure queues (set QUEUE_CONNECTION=database) and run workers.
- Enable cron for schedule: trip-request:cancel (every minute).
- Provide mail SMTP credentials.
- Provide GEOAPIFY_API_KEY.
- Decide broadcasting: keep BROADCAST_DRIVER=null or configure Reverb/Pusher envs.
- Create storage symlink (php artisan storage:link) and set permissions on storage and bootstrap/cache.
- Build production assets (npm run production with Node 14/16+).
- If using database:backup command, set DUMP_BINARY_PATH to mysqldump.

Minimum .env keys to set
APP_NAME=SmartLine
APP_ENV=production
APP_KEY=                      # filled by key:generate
APP_DEBUG=false
APP_URL=https://your-domain

LOG_CHANNEL=stack
LOG_LEVEL=info

DB_CONNECTION=mysql
DB_HOST=<hostinger-db-host>
DB_PORT=3306
DB_DATABASE=<db_name>
DB_USERNAME=<db_user>
DB_PASSWORD=<db_pass>

CACHE_DRIVER=file             # or redis if enabled
QUEUE_CONNECTION=database     # recommended
SESSION_DRIVER=file
SESSION_LIFETIME=120

FILESYSTEM_DRIVER=public
BROADCAST_DRIVER=null         # or pusher/reverb if enabled
# Reverb (if used)
REVERB_APP_KEY=...
REVERB_APP_SECRET=...
REVERB_APP_ID=...
REVERB_HOST=...
REVERB_PORT=443
REVERB_SCHEME=https
REVERB_SERVER_HOST=0.0.0.0
REVERB_SERVER_PORT=8080
# Pusher (if used)
PUSHER_APP_ID=...
PUSHER_APP_KEY=...
PUSHER_APP_SECRET=...
PUSHER_APP_CLUSTER=...
PUSHER_HOST=...
PUSHER_PORT=6001
PUSHER_SCHEME=http

MAIL_MAILER=smtp
MAIL_HOST=<smtp-host>
MAIL_PORT=587
MAIL_USERNAME=<smtp-user>
MAIL_PASSWORD=<smtp-pass>
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=no-reply@your-domain
MAIL_FROM_NAME=SmartLine

GEOAPIFY_API_KEY=<your-key>

PASSPORT_PRIVATE_KEY=         # or store keys generated by passport:install
PASSPORT_PUBLIC_KEY=
PASSPORT_PERSONAL_ACCESS_CLIENT_ID=
PASSPORT_PERSONAL_ACCESS_CLIENT_SECRET=

DUMP_BINARY_PATH=/usr/bin/    # for database:backup command

Hostinger VPS deployment steps
1) Install packages: PHP 8.1/8.2 with bcmath, ctype, curl, dom, fileinfo, gd, intl, json, mbstring, openssl, pdo_mysql, tokenizer, xml, zip, pcntl; Composer; Node 14/16+; optional redis.
2) Place project at /var/www/smart-line.space/rateel; webroot to rateel/public.
3) composer install --no-dev --optimize-autoloader.
4) Create .env with values above; php artisan key:generate.
5) php artisan passport:install and store generated client id/secret (or set PASSPORT_* envs).
6) Database: create MySQL DB; import database_export_2025-12-09.sql (or run php artisan migrate --seed). If module migrations missing, run php artisan module:publish-migrations then php artisan migrate.
7) php artisan storage:link; set ownership/permissions: chown -R www-data:www-data storage bootstrap/cache and ensure rw.
8) npm ci (or npm install); npm run production. Alternatively build locally and upload public assets.
9) Cache optimize: php artisan config:cache && php artisan route:cache && php artisan view:cache.
10) Queues: set QUEUE_CONNECTION=database; ensure jobs table exists; add Supervisor worker (example below).
11) Scheduler: add cron * * * * * php /var/www/smart-line.space/rateel/artisan schedule:run >> /dev/null 2>&1.
12) Broadcasting: if needed, configure Reverb or Pusher and run websocket service (e.g., php artisan reverb:start --host=0.0.0.0 --port=8080 under Supervisor).
13) Web server: Nginx/Apache pointing to rateel/public with HTTPS; typical Laravel rewrite.
14) Mail: set SMTP envs and send a test.
15) Logging/backup: ensure storage/logs writable; set DUMP_BINARY_PATH if using database:backup.

Supervisor example for queues
[program:smartline-queue]
command=/usr/bin/php /var/www/smart-line.space/rateel/artisan queue:work --queue=high,default --sleep=3 --tries=3 --max-time=3600
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/smartline-queue.log

Key files referenced
- rateel/composer.json (Laravel 10, Passport, Reverb, Mix 6)
- rateel/config/passport.php (needs PASSPORT_* envs or keys)
- rateel/config/broadcasting.php (Reverb/Pusher envs optional)
- rateel/config/queue.php (queues default to sync; set to database)
- rateel/app/Console/Kernel.php (trip-request:cancel scheduled every minute)
- rateel/app/Console/Commands/*.php (uses queues, db backup path, modules)



