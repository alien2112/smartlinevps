# ============================================
# SmartLine Production Environment Configuration
# ============================================
# Copy this file to .env and update the values
# ============================================

#-----------------------------------------------------------------------
# APPLICATION SETTINGS
#-----------------------------------------------------------------------
APP_NAME=SmartLine
APP_ENV=production
APP_MODE=live
APP_KEY=
APP_DEBUG=false
APP_URL=https://your-domain.com

#-----------------------------------------------------------------------
# LOGGING
#-----------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning

#-----------------------------------------------------------------------
# DATABASE
#-----------------------------------------------------------------------
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=smartline
DB_USERNAME=smartline
DB_PASSWORD=YOUR_STRONG_DB_PASSWORD

# Connection pooling (optional - enable for high traffic)
DB_PERSISTENT=true

# Read replicas (optional - uncomment when using replicas)
# DB_READ_HOSTS=replica1.example.com,replica2.example.com

#-----------------------------------------------------------------------
# CACHE & QUEUE (CRITICAL - Must be Redis for production!)
#-----------------------------------------------------------------------
BROADCAST_DRIVER=reverb
CACHE_DRIVER=redis
FILESYSTEM_DRIVER=local
QUEUE_CONNECTION=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120

#-----------------------------------------------------------------------
# REDIS (CRITICAL - Set a strong password!)
#-----------------------------------------------------------------------
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=YOUR_STRONG_REDIS_PASSWORD
REDIS_PORT=6379
REDIS_CLIENT=predis

#-----------------------------------------------------------------------
# REVERB (WEBSOCKETS)
#-----------------------------------------------------------------------
REVERB_APP_ID=smartline
REVERB_APP_KEY=YOUR_REVERB_APP_KEY
REVERB_APP_SECRET=YOUR_REVERB_APP_SECRET
REVERB_HOST=your-domain.com
REVERB_PORT=6015
REVERB_SCHEME=https

MIX_REVERB_APP_KEY="${REVERB_APP_KEY}"
MIX_REVERB_HOST="${REVERB_HOST}"
MIX_REVERB_PORT="${REVERB_PORT}"
MIX_REVERB_SCHEME="${REVERB_SCHEME}"

#-----------------------------------------------------------------------
# PUSHER (Legacy - used by some mobile SDKs)
#-----------------------------------------------------------------------
PUSHER_APP_ID=smartline
PUSHER_APP_KEY=smartline
PUSHER_APP_SECRET=smartline
PUSHER_APP_CLUSTER=mt1
PUSHER_HOST="${REVERB_HOST}"
PUSHER_PORT="${REVERB_PORT}"
PUSHER_SCHEME="${REVERB_SCHEME}"

#-----------------------------------------------------------------------
# NODE.JS REALTIME SERVICE
#-----------------------------------------------------------------------
NODEJS_REALTIME_URL=http://localhost:3000
NODEJS_REALTIME_API_KEY=YOUR_PRODUCTION_SECURE_KEY

#-----------------------------------------------------------------------
# SENTRY ERROR MONITORING
#-----------------------------------------------------------------------
SENTRY_LARAVEL_DSN=your-sentry-dsn-here
SENTRY_TRACES_SAMPLE_RATE=0.2
SENTRY_PROFILES_SAMPLE_RATE=0.1

#-----------------------------------------------------------------------
# MAIL CONFIGURATION
#-----------------------------------------------------------------------
MAIL_MAILER=mailgun
MAIL_FROM_ADDRESS=noreply@your-domain.com
MAIL_FROM_NAME="${APP_NAME}"
MAILGUN_DOMAIN=your-domain.mailgun.org
MAILGUN_SECRET=your-mailgun-api-key
MAILGUN_ENDPOINT=api.mailgun.net

#-----------------------------------------------------------------------
# SMS CONFIGURATION
#-----------------------------------------------------------------------
BEON_API_TOKEN=your-beon-api-token

#-----------------------------------------------------------------------
# IMAGE UPLOAD CONFIGURATION
#-----------------------------------------------------------------------
IMAGE_MAX_SIZE=500
PROFILE_IMAGE_MAX_SIZE=500
IDENTITY_IMAGE_MAX_SIZE=500
BANNER_IMAGE_MAX_SIZE=500
VEHICLE_DOC_MAX_SIZE=500
ICON_IMAGE_MAX_SIZE=500

#-----------------------------------------------------------------------
# LOCATION TRACKING
#-----------------------------------------------------------------------
LOCATION_CONFIG_KEY=location:update:config:v1
LOCATION_CONFIG_REFRESH=300
LOCATION_ACTIVE_PRESET=normal
TRACKING_MAX_SPEED=200
TRACKING_MAX_SPEED_MS=55.5
TRACKING_MAX_JUMP=1000
TRACKING_MAX_JUMP_TIME=15
TRACKING_MAX_IDLE=10
TRACKING_MAX_FUTURE_OFFSET=60
TRACKING_MIN_DISTANCE=50
TRACKING_MIN_TIME=15
TRACKING_STORE_ROUTE=true
TRACKING_ROUTE_RETENTION=90
TRACKING_STORE_EVENTS_ONLY=false
TRACKING_NOTIFY_INTERVAL=10
TRACKING_USE_WEBSOCKET=true
TRACKING_USE_PUSH=false
TRACKING_MAX_ANOMALIES=5
TRACKING_REJECT_ANOMALIES=false
TRACKING_NOTIFY_ADMIN_ANOMALY=false
TRACKING_DISTANCE_METHOD=haversine

#-----------------------------------------------------------------------
# PERFORMANCE TUNING
#-----------------------------------------------------------------------
PERF_CONFIG_CACHE_TTL=3600
PERF_ROUTE_CACHE_TTL=1800
PERF_ZONE_CACHE_TTL=300
PERF_DRIVER_LOCATION_TTL=30
PERF_PENDING_TRIPS_TTL=10
PERF_USE_SPATIAL_INDEX=true
PERF_DEFAULT_RADIUS_KM=5
PERF_MAX_NEARBY_DRIVERS=100
PERF_COORD_PRECISION=4
PERF_MAX_PENDING_RIDES=20
PERF_SELECTIVE_EAGER_LOADING=true
PERF_USE_WHERE_EXISTS=true
PERF_BROADCAST_QUEUE=broadcasting
PERF_ASYNC_BROADCAST=true
PERF_BROADCAST_BATCH_SIZE=100
PERF_LOCATION_THROTTLE=3
PERF_PENDING_RIDES_THROTTLE=5
PERF_LOG_HOT_PATHS=false
PERF_QUERY_LOG=false
