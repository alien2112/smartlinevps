APP_NAME=SmartLine
APP_ENV=local
APP_MODE=live
APP_KEY=base64:aj6UCF3URvpY7oC92LcoKuDKWJqP2u5LKgSOBTP8mFQ=
APP_DEBUG=true
APP_URL=localhost

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=smartline
DB_USERNAME=root
DB_PASSWORD=

BROADCAST_DRIVER=reverb
CACHE_DRIVER=redis
FILESYSTEM_DRIVER=local
QUEUE_CONNECTION=redis
SESSION_DRIVER=file
SESSION_LIFETIME=120

MEMCACHED_HOST=127.0.0.1

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

#-----------------------------------------------------------------------
# MAIL CONFIGURATION
#-----------------------------------------------------------------------
# Supported: mailgun, log, array, failover
# Use 'log' for development, 'mailgun' for production
#-----------------------------------------------------------------------
MAIL_MAILER=log
MAIL_FROM_ADDRESS=noreply@smartline.com
MAIL_FROM_NAME="${APP_NAME}"
MAIL_LOG_CHANNEL=stack

# Mailgun Configuration (Free: 5,000 emails/month for 3 months)
# Sign up at: https://app.mailgun.com/
# For production, change MAIL_MAILER=mailgun and fill these:
MAILGUN_DOMAIN=your-domain.mailgun.org
MAILGUN_SECRET=your-mailgun-api-key
MAILGUN_ENDPOINT=api.mailgun.net

#-----------------------------------------------------------------------
# SMS CONFIGURATION
#-----------------------------------------------------------------------
# SMS gateways are configured in the database (settings table)
# Supported: sms_smart (Beon.chat), twilio
#-----------------------------------------------------------------------

# ðŸ¥‡ SMS Smart / Beon.chat (Primary - Best for Egypt)
# Sign up at: https://beon.chat/
# âœ… Cheapest for Egypt local traffic
# âœ… Best delivery inside Egypt
BEON_API_TOKEN=your-beon-api-token

#-----------------------------------------------------------------------
# PUSHER / WEBSOCKETS
#-----------------------------------------------------------------------
PUSHER_APP_ID=smartline
PUSHER_APP_KEY=smartline
PUSHER_APP_SECRET=smartline
PUSHER_APP_CLUSTER=mt1
PUSHER_HOST="${APP_URL}"
PUSHER_PORT=6015
PUSHER_SCHEME="http"

MIX_APP_NAME="${APP_NAME}"
MIX_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
MIX_PUSHER_HOST="${PUSHER_HOST}"
MIX_PUSHER_PORT="${PUSHER_PORT}"
MIX_PUSHER_SCHEME="${PUSHER_SCHEME}"
MIX_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"
LARAVEL_WEBSOCKETS_SSL_LOCAL_CERT=""
LARAVEL_WEBSOCKETS_SSL_LOCAL_PK=""
SOFTWARE_ID=MTAwMDAwMDA=

#-----------------------------------------------------------------------
# REVERB (WEBSOCKETS)
#-----------------------------------------------------------------------
REVERB_APP_ID=smartline
REVERB_APP_KEY=smartline
REVERB_APP_SECRET=smartline
REVERB_HOST="${APP_URL}"
REVERB_PORT=6015
REVERB_SCHEME="http"
REVERB_SSL_CERT_PATH=""
REVERB_SSL_KEY_PATH=""

MIX_REVERB_APP_KEY="${REVERB_APP_KEY}"
MIX_REVERB_HOST="${REVERB_HOST}"
MIX_REVERB_PORT="${REVERB_PORT}"
MIX_REVERB_SCHEME="${REVERB_SCHEME}"

#-----------------------------------------------------------------------
# NODE.JS REALTIME SERVICE
#-----------------------------------------------------------------------
NODEJS_REALTIME_URL=http://localhost:3000
NODEJS_REALTIME_API_KEY=smartline-internal-key-change-in-production

#-----------------------------------------------------------------------
# SENTRY ERROR MONITORING
#-----------------------------------------------------------------------
SENTRY_LARAVEL_DSN=https://8e3a3d97d754e7bf63fbdf2e7f350479@o4507441712201728.ingest.de.sentry.io/4510558297849936
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=0.2

#-----------------------------------------------------------------------
# IMAGE UPLOAD CONFIGURATION
#-----------------------------------------------------------------------
# Maximum file size for image uploads (in KB)
# 500 = 500KB (recommended for mobile apps)
# 1024 = 1MB, 2048 = 2MB
#-----------------------------------------------------------------------
IMAGE_MAX_SIZE=500
PROFILE_IMAGE_MAX_SIZE=500
IDENTITY_IMAGE_MAX_SIZE=500
BANNER_IMAGE_MAX_SIZE=500
VEHICLE_DOC_MAX_SIZE=500
ICON_IMAGE_MAX_SIZE=500

#-----------------------------------------------------------------------
# LOCATION TRACKING CONFIGURATION
#-----------------------------------------------------------------------
# Driver location update rate and sanity checks
# See config/tracking.php for full documentation
#-----------------------------------------------------------------------

# Redis key for location configuration
LOCATION_CONFIG_KEY=location:update:config:v1

# How often apps check for config updates (seconds)
LOCATION_CONFIG_REFRESH=300

# Active preset: normal, high_traffic, emergency, performance
LOCATION_ACTIVE_PRESET=normal

# Sanity check thresholds
TRACKING_MAX_SPEED=200
TRACKING_MAX_SPEED_MS=55.5
TRACKING_MAX_JUMP=1000
TRACKING_MAX_JUMP_TIME=15
TRACKING_MAX_IDLE=10
TRACKING_MAX_FUTURE_OFFSET=60

# Legacy trigger thresholds
TRACKING_MIN_DISTANCE=50
TRACKING_MIN_TIME=15

# Route storage
TRACKING_STORE_ROUTE=true
TRACKING_ROUTE_RETENTION=90
TRACKING_STORE_EVENTS_ONLY=false

# Notification settings
TRACKING_NOTIFY_INTERVAL=10
TRACKING_USE_WEBSOCKET=true
TRACKING_USE_PUSH=false

# Anomaly handling
TRACKING_MAX_ANOMALIES=5
TRACKING_REJECT_ANOMALIES=false
TRACKING_NOTIFY_ADMIN_ANOMALY=false

# Distance calculation method: haversine or vincenty
TRACKING_DISTANCE_METHOD=haversine
